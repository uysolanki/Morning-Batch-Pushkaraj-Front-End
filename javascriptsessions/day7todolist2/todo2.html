<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        .input-error-message{
            color:red;
        }
    </style>
  </head>
  <body>
    <h3>Todo List Practice 2</h3>
    <input type="text" placeholder="Todo name" class="js-input-text" /><br>
    <span class="input-error-message js-input-error-message"></span><br>
    <button class="js-add-button">Add</button>
    <div class="js-show-todo-list"></div>

    <script>
      const todoListArray = ['Watch Video','Practice Programming','give car for servicing', 'pickup groceries'];
      
     


      function showTodoList()
      {
      let todoListHtml='';
      todoListArray.forEach(
          (singleTodoListElement)=>{
             todoListHtml+= `<p>${singleTodoListElement}</p>`
          }
      );

      const todoListElement=document.querySelector('.js-show-todo-list')
      todoListElement.innerHTML=todoListHtml;
      }

      showTodoList();









      const addButton = document.querySelector(".js-add-button");
      addButton.addEventListener("click", addToTodoList);

      const userInputTextbox = document.querySelector(".js-input-text");
      userInputTextbox.addEventListener("keydown", () => {
        if (event.key === "Enter") {
          addToTodoList();
        }
      });
      

      function addToTodoList() {
        let InputErrorMessage=document.querySelector('.js-input-error-message');
        const userInputValue = userInputTextbox.value;
        if (userInputValue === "") {
            //alert("textbox cannot be blank");
            InputErrorMessage.innerText="textbox cannot be blank";
            userInputTextbox.style.outline="3px solid red";

        }
        else  if (todoListArray.includes(userInputValue)) {
          //alert("duplicate elements not allowed");
          InputErrorMessage.innerText="duplicate elements not allowed";
          userInputTextbox.style.outline="3px solid red";
        }
        else {
            todoListArray.push(userInputValue);
            InputErrorMessage.innerText="";
        }

        console.log(todoListArray);
        userInputTextbox.value = "";
        userInputTextbox.focus();
        showTodoList();
      }

      // addButton.addEventListener('click',()=>{
      //     const userInputTextbox=document.querySelector('.js-input-text');
      //     const userInputValue=userInputTextbox.value;
      //     console.log(userInputValue);
      //     todoListArray.push(userInputValue);
      //     console.log(todoListArray);
      //     userInputTextbox.value='';
      //     userInputTextbox.focus();
      // });
    </script>
  </body>
</html>
